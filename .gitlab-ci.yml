image: node:20-alpine

pages:
  stage: deploy
  script:
    - npm install
    # Gera keys.js para GitLab Pages (dados de teste ou pÃºblicos)
    - echo "export const adminCredentials = { email: 'admin@teste.com', password: '123456' };" > public/js/keys.js
    - echo "export const firebaseConfig = $FIREBASE_CONFIG;" >> public/js/keys.js
    - npm run generate-keys || echo "Sem keys CI, apenas login Google"
    - ls -la public
  artifacts:
    paths:
      - public
  only:
    - master
